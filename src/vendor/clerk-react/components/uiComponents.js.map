{"version":3,"sources":["../../../src/components/uiComponents.tsx"],"sourcesContent":["import type {\n  CreateOrganizationProps,\n  OrganizationProfileProps,\n  OrganizationSwitcherProps,\n  SignInProps,\n  SignUpProps,\n  UserButtonProps,\n  UserProfileProps,\n} from '@clerk/types';\nimport React from 'react';\n\nimport type { MountProps, WithClerkProp } from '../types';\nimport { withClerk } from './withClerk';\n\n// README: <Portal/> should be a class pure component in order for mount and unmount\n// lifecycle props to be invoked correctly. Replacing the class component with a\n// functional component wrapped with a React.memo is not identical to the original\n// class implementation due to React intricacies such as the useEffectâ€™s cleanup\n// seems to run AFTER unmount, while componentWillUnmount runs BEFORE.\n\n// More information can be found at https://clerkinc.slack.com/archives/C015S0BGH8R/p1624891993016300\n\n// The function Portal implementation is commented out for future reference.\n\n// const Portal = React.memo(({ props, mount, unmount }: MountProps) => {\n//   const portalRef = React.createRef<HTMLDivElement>();\n\n//   useEffect(() => {\n//     if (portalRef.current) {\n//       mount(portalRef.current, props);\n//     }\n//     return () => {\n//       if (portalRef.current) {\n//         unmount(portalRef.current);\n//       }\n//     };\n//   }, []);\n\n//   return <div ref={portalRef} />;\n// });\n\n// Portal.displayName = 'ClerkPortal';\nclass Portal extends React.PureComponent<MountProps, {}> {\n  private portalRef = React.createRef<HTMLDivElement>();\n\n  componentDidUpdate(prevProps: Readonly<MountProps>) {\n    if (prevProps.props.appearance !== this.props.props.appearance) {\n      this.props.updateProps({ node: this.portalRef.current, props: this.props.props });\n    }\n  }\n\n  componentDidMount() {\n    if (this.portalRef.current) {\n      this.props.mount(this.portalRef.current, this.props.props);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.portalRef.current) {\n      this.props.unmount(this.portalRef.current);\n    }\n  }\n\n  render() {\n    return <div ref={this.portalRef} />;\n  }\n}\n\nexport const SignIn = withClerk(({ clerk, ...props }: WithClerkProp<SignInProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountSignIn}\n      unmount={clerk.unmountSignIn}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'SignIn');\n\nexport const SignUp = withClerk(({ clerk, ...props }: WithClerkProp<SignUpProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountSignUp}\n      unmount={clerk.unmountSignUp}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'SignUp');\n\nexport const UserProfile = withClerk(({ clerk, ...props }: WithClerkProp<UserProfileProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountUserProfile}\n      unmount={clerk.unmountUserProfile}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'UserProfile');\n\nexport const UserButton = withClerk(({ clerk, ...props }: WithClerkProp<UserButtonProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountUserButton}\n      unmount={clerk.unmountUserButton}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'UserButton');\n\nexport const OrganizationProfile = withClerk(({ clerk, ...props }: WithClerkProp<OrganizationProfileProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountOrganizationProfile}\n      unmount={clerk.unmountOrganizationProfile}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'OrganizationProfile');\n\nexport const CreateOrganization = withClerk(({ clerk, ...props }: WithClerkProp<CreateOrganizationProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountCreateOrganization}\n      unmount={clerk.unmountCreateOrganization}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'CreateOrganization');\n\nexport const OrganizationSwitcher = withClerk(({ clerk, ...props }: WithClerkProp<OrganizationSwitcherProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountOrganizationSwitcher}\n      unmount={clerk.unmountOrganizationSwitcher}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'OrganizationSwitcher');\n"],"mappings":";AASA,OAAO,WAAW;AAGlB,SAAS,iBAAiB;AA8B1B,MAAM,eAAe,MAAM,cAA8B;AAAA,EAAzD;AAAA;AACE,SAAQ,YAAY,MAAM,UAA0B;AAAA;AAAA,EAEpD,mBAAmB,WAAiC;AAClD,QAAI,UAAU,MAAM,eAAe,KAAK,MAAM,MAAM,YAAY;AAC9D,WAAK,MAAM,YAAY,EAAE,MAAM,KAAK,UAAU,SAAS,OAAO,KAAK,MAAM,MAAM,CAAC;AAAA,IAClF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,QAAI,KAAK,UAAU,SAAS;AAC1B,WAAK,MAAM,MAAM,KAAK,UAAU,SAAS,KAAK,MAAM,KAAK;AAAA,IAC3D;AAAA,EACF;AAAA,EAEA,uBAAuB;AACrB,QAAI,KAAK,UAAU,SAAS;AAC1B,WAAK,MAAM,QAAQ,KAAK,UAAU,OAAO;AAAA,IAC3C;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,oCAAC,SAAI,KAAK,KAAK,WAAW;AAAA,EACnC;AACF;AAEO,MAAM,SAAS,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAAkC;AACnF,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,QAAQ;AAEJ,MAAM,SAAS,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAAkC;AACnF,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,QAAQ;AAEJ,MAAM,cAAc,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAAuC;AAC7F,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,aAAa;AAET,MAAM,aAAa,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAAsC;AAC3F,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,YAAY;AAER,MAAM,sBAAsB,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAA+C;AAC7G,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,qBAAqB;AAEjB,MAAM,qBAAqB,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAA8C;AAC3G,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,oBAAoB;AAEhB,MAAM,uBAAuB,UAAU,CAAC,EAAE,OAAO,GAAG,MAAM,MAAgD;AAC/G,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,MAAM;AAAA,MACb,SAAS,MAAM;AAAA,MACf,aAAc,MAAc;AAAA,MAC5B;AAAA;AAAA,EACF;AAEJ,GAAG,sBAAsB;","names":[]}